
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Style guide for the PVMD toolbox &#8212; PVMD Toolbox  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PVMD Toolbox" href="../api/modules.html" />
    <link rel="prev" title="The PVMD Toolbox manual" href="../user_guide/full_manual.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">PVMD Toolbox  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Getting started
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../getting_started/access_guide.html">
   Access guide to the PVMD Toolbox
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../user_guide/full_manual.html">
   The PVMD Toolbox manual
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contributing
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Style guide for the PVMD toolbox
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  API references
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../api/modules.html">
   PVMD Toolbox
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/pvmd.html">
     PVMD Toolbox
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../api/pvmd.1_cell.html">
     pvmd.1_cell
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/develop/style_guide.md.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#code-lay-out">
   Code Lay-out
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#indentation">
     Indentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#maximum-line-length">
     Maximum line length
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#blank-lines">
     Blank lines
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comments">
   Comments
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#naming-conventions">
   Naming conventions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example-of-good-coding">
   Example of good coding
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#general-traits-of-good-coding">
   General traits of good coding
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Style guide for the PVMD toolbox</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#code-lay-out">
   Code Lay-out
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#indentation">
     Indentation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#maximum-line-length">
     Maximum line length
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#blank-lines">
     Blank lines
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comments">
   Comments
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#naming-conventions">
   Naming conventions
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#example-of-good-coding">
   Example of good coding
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#general-traits-of-good-coding">
   General traits of good coding
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="style-guide-for-the-pvmd-toolbox">
<h1>Style guide for the PVMD toolbox<a class="headerlink" href="#style-guide-for-the-pvmd-toolbox" title="Permalink to this headline">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">#</a></h2>
<p>This document gives coding conventions for the Matlab code present in
the PVMD toolbox and that need to be followed if any modification is to
be done to the tool. This document is based on the Python coding
convention PEP8 adapted to Matlab following recommendations from members
of the PVMD group and on the scientific computing rules given by Wilson
et al. (Wilson et al., 2014).</p>
<p>The PVMD toolbox is the result of many interactions between people. It
is important to follow the conventions stated here so that the code can
be easily read and understood by other programmers. This way the
improvements on the toolbox can be better implemented.</p>
</section>
<section id="code-lay-out">
<h2>Code Lay-out<a class="headerlink" href="#code-lay-out" title="Permalink to this headline">#</a></h2>
<section id="indentation">
<h3>Indentation<a class="headerlink" href="#indentation" title="Permalink to this headline">#</a></h3>
<p>Use four spaces or one tab per indentation level. Indentation is
necessary to know where and if/for/while command starts and finishes.
Functions do not need indentation.</p>
</section>
<section id="maximum-line-length">
<h3>Maximum line length<a class="headerlink" href="#maximum-line-length" title="Permalink to this headline">#</a></h3>
<p>Try to limit the length of the code to 76 characters (do not trespass
the line that is automatically drawn on Matlab) especially for comments,
although it is not strict. Exceptions are when calling and defining long
functions.</p>
</section>
<section id="blank-lines">
<h3>Blank lines<a class="headerlink" href="#blank-lines" title="Permalink to this headline">#</a></h3>
<p>Functions should be separated by two blank lines between them. Single
blank lines can be employed inside functions to separate sections
between them.</p>
</section>
</section>
<section id="comments">
<h2>Comments<a class="headerlink" href="#comments" title="Permalink to this headline">#</a></h2>
<p>Comments that contradict the code are worse than no comments. Therefore,
keep the comments up-to-date when the code changes! Comments should be
complete sentences, clear and easily understandable.</p>
<p>When defining variables, inline comments define the variable names and
their units. Inline comments can also be useful when performing an
operation whose meaning is not trivial. For instance in the example
below, the first comment would be useless while the second can be
useful.</p>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c">%Increment x</span><span class="w"></span>

<span class="n">x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="c">%Compensate for border</span><span class="w"></span>
</pre></div>
</div>
<p>Functions need to have a block of comments at the beginning explaining
what they do, their inputs and outputs. The first comment line, should
be a summary of the function. The following lines would perform a detail
explanation of it. A brief description of the input and output arguments
of the function would follow in the next lines. Finally, the authors and
the project of which that code belongs would be stated.</p>
</section>
<section id="naming-conventions">
<h2>Naming conventions<a class="headerlink" href="#naming-conventions" title="Permalink to this headline">#</a></h2>
<p>When naming, the convention to be employed is lowercase_with_underscore.
This applies to both the functions and the variables names. Make names
consistent, distinctive, and meaningful. We understand that it is
annoying to have long names while coding, but once the code is finished,
all the variables can be easily substituted in matlab. So it is ok to
employ v as the velocity on your code while you are working on it, but
once it is finished, substitute the variable <code class="docutils literal notranslate"><span class="pre">v</span></code> by <code class="docutils literal notranslate"><span class="pre">wind_velocity</span></code>.</p>
</section>
<section id="example-of-good-coding">
<h2>Example of good coding<a class="headerlink" href="#example-of-good-coding" title="Permalink to this headline">#</a></h2>
<div class="highlight-matlab notranslate"><div class="highlight"><pre><span></span><span class="k">function</span><span class="w"> </span>[sky_temperature]<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">sky_temperature_calc</span><span class="p">(</span>ambient_temperature, cloud_coverage<span class="p">)</span><span class="w"></span>
<span class="c">% Example function that uses blank lines and indentation. This function</span><span class="w"></span>
<span class="c">% pretends to show new users of the PVMD toolbox the correct use of</span><span class="w"></span>
<span class="c">% blank lines between sections and of indentation when employing if</span><span class="w"></span>
<span class="c">% statements.</span><span class="w"></span>
<span class="c">% As an example, the sky temperature is calculated following the Solar</span><span class="w"></span>
<span class="c">% Book by Smets et al.</span><span class="w"></span>
<span class="c">%</span><span class="w"></span>
<span class="c">% ambient_temperature Temperature of the ambient at a certain instant</span><span class="w"></span>
<span class="c">% in degrees</span><span class="w"></span>
<span class="c">% cloud_coverage Cloud coverage of the sky at the same instant in okta</span><span class="w"></span>
<span class="c">%</span><span class="w"></span>
<span class="c">% sky_temperature Temperature of the sky at the same instant in degrees</span><span class="w"></span>
<span class="c">%</span><span class="w"></span>
<span class="c">% Author: Alba Alcaniz</span><span class="w"></span>
<span class="c">% For PVMD toolbox style guide</span><span class="w"></span>

<span class="c">% Convert the ambient temperature to Kelvin</span><span class="w"></span>

<span class="n">ambient_temperature</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ambient_temperature</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">273.15</span><span class="p">;</span><span class="w"></span>

<span class="k">if</span><span class="w"> </span><span class="n">cloud_coverage</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">cloud_coverage</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="nb">disp</span><span class="p">(</span><span class="s">&quot;Wrong input cloud coverage&quot;</span><span class="p">)</span><span class="w"></span>
<span class="k">elseif</span><span class="w"> </span><span class="n">cloud_coverage</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">6</span><span class="w"></span>
<span class="w">    </span><span class="n">sky_temperature</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">ambient_temperature</span><span class="p">;</span><span class="w"></span>
<span class="k">else</span><span class="w"></span>
<span class="w">    </span><span class="n">sky_temperature</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="mf">0.0552</span><span class="o">*</span><span class="n">ambient_temperature</span>^<span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">);</span><span class="w"></span>
<span class="k">end</span><span class="w"></span>

<span class="c">% Convert the temperature back to degrees</span><span class="w"></span>
<span class="n">sky_temperature</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="n">sky_temperature</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mf">273.15</span><span class="p">;</span><span class="w"></span>

<span class="k">end</span><span class="w"></span>

<span class="k">function</span><span class="w"> </span>[outputArg1,outputArg2]<span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nf">random_function</span><span class="p">(</span>inputArg1,inputArg2<span class="p">)</span><span class="w"></span>

<span class="c">% This functions shows the two blank lines space to be left between the</span><span class="w"></span>
<span class="c">% end of a function and the beginning of the next one.</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="general-traits-of-good-coding">
<h2>General traits of good coding<a class="headerlink" href="#general-traits-of-good-coding" title="Permalink to this headline">#</a></h2>
<p>programs should limit the total number of items to be remembered to
accomplish a task. Break programs up into easily understood functions,
each of which conducts a single, easily understood, task. This serves to
make each piece of the program easier to understand in the same way that
breaking up a scientific paper using sections and paragraphs makes it
easier to read.</p>
<p>Let the computer do the work: avoid repetition make the computer repeat
tasks (2a) and save recent commands in a file for re-use (2b).</p>
<p>Use a version control system? Use <a class="reference external" href="http://git-scm.com">Git</a> and <a class="reference external" href="https://gitlab.tudelft.nl/users/sign_in">Gitlab</a> so that many people can interact at the same time with the code and the most recent version of the PVMD toolbox is available.</p>
<p>Plan for mistakes. Add assertion to the code to make sure that the
inputs are what they should be.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="../user_guide/full_manual.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">The PVMD Toolbox manual</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="../api/modules.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">PVMD Toolbox</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Malte Vogt<br/>
  
      &copy; Copyright 2022, Malte Vogt.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>